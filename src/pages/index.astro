---
import { buttonVariants } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import Layout from "@/layouts/Layout.astro";
import { GitHubLogoIcon, LinkedInLogoIcon } from "@radix-ui/react-icons";
import { ArrowUpRight } from "lucide-react";
import { getCollection } from "astro:content";
import ProjectCard from "@/components/project-card.astro";
import * as config from "@/site-config";

const openSourceProjects = await getCollection("oss");
const projects = await getCollection("project", ({ data }) => data.featured);
---

<Layout>
  <main class="mx-auto w-11/12 max-w-5xl space-y-20 pt-10">
    <section class="space-y-8 py-20">
      <h1 class="text-6xl font-semibold leading-tight">
        I
        <span class="relative">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="absolute left-0 top-0 z-10 size-28 -translate-y-1/3 text-orange-100">
            <path
              fill-rule="evenodd"
              d="M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z"
              clip-rule="evenodd"></path>
            <path
              d="m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"
            ></path>
            <path
              fill-rule="evenodd"
              d="m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd"></path>
          </svg>
          <span
            class="relative z-20 bg-gradient-to-br from-pink-500 via-red-500 to-yellow-500 bg-clip-text text-transparent">
            craft experience
          </span>
        </span>
        on the web and help other developers
        <span class="relative">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="absolute left-0 top-0 size-28 -translate-y-1/4 text-purple-100">
            <path
              fill-rule="evenodd"
              d="M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 0 1 9.75 22.5a.75.75 0 0 1-.75-.75v-4.131A15.838 15.838 0 0 1 6.382 15H2.25a.75.75 0 0 1-.75-.75 6.75 6.75 0 0 1 7.815-6.666ZM15 6.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"
              clip-rule="evenodd"></path>
            <path
              d="M5.26 17.242a.75.75 0 1 0-.897-1.203 5.243 5.243 0 0 0-2.05 5.022.75.75 0 0 0 .625.627 5.243 5.243 0 0 0 5.022-2.051.75.75 0 1 0-1.202-.897 3.744 3.744 0 0 1-3.008 1.51c0-1.23.592-2.323 1.51-3.008Z"
            ></path>
          </svg>
          <span
            class="relative z-20 bg-gradient-to-bl from-green-300 via-blue-500 to-purple-600 bg-clip-text text-transparent"
            >level-up</span
          >
        </span>

        their skills.
      </h1>
      <div class="items-center justify-between md:flex">
        <ul class="flex items-center gap-4">
          <li>
            <a
              class={buttonVariants({ variant: "ghost", size: "icon" })}
              target="_blank"
              href={config.linkedinUrl}><LinkedInLogoIcon className="size-8 text-zinc-700" /></a
            >
          </li>
          <li>
            <a
              class={buttonVariants({ variant: "ghost", size: "icon" })}
              target="_blank"
              href={config.githubUrl}><GitHubLogoIcon className="size-8 text-zinc-700" /></a
            >
          </li>
        </ul>
        <div>
          I'm currently a Mentor at <a
            href="https://www.dicoding.com/mentoring"
            target="_blank"
            rel="noreferrer"
            class="font-semibold underline hover:no-underline">
            Dicoding Indonesia</a
          >
        </div>
      </div>
    </section>
    <section>
      <h2
        class="mt-10 scroll-m-20 text-3xl font-semibold tracking-tight transition-colors first:mt-0">
        Featured Projects
      </h2>
      <p class="mb-8 leading-7 [&:not(:first-child)]:mt-6">Projects that I've proud of building</p>
      <ul class="grid gap-4 md:grid-cols-2">
        {
          projects.map((project) => {
            return (
              <li>
                <ProjectCard {...project.data} slug={`/project/${project.slug}`} />
              </li>
            );
          })
        }
        <li class="content-center sm:justify-self-center">
          <a href="/project">See more projects</a>
        </li>
      </ul>
    </section>
    <section class="space-y-8">
      <div>
        <h2 class="text-4xl font-bold">Open Source</h2>
        <p class="leading-7 [&:not(:first-child)]:mt-6">
          Some of my contributions in the wild as a means of learning and meeting new people
        </p>
      </div>
      <ul class="divide-y-2">
        {
          openSourceProjects.map((project) => {
            return (
              <li class="flex justify-between py-4">
                <a href={project.data.url} target="_blank" class="group flex items-center text-xl">
                  {project.data.name}{" "}
                  <ArrowUpRight className="group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform" />{" "}
                </a>
                <div class="flex flex-wrap items-center justify-end gap-2">
                  {project.data.tech.map((t) => (
                    <Badge className="rounded-md">{t}</Badge>
                  ))}
                </div>
              </li>
            );
          })
        }
      </ul>
    </section>
  </main>
</Layout>
